{"TASK_CHAT_HISTORY_RETRIEVE": {"instillShortDescription": "Retrieve chat history from Redis.", "input": {"instillUIOrder": 0, "properties": {"include_system_message": {"default": true, "description": "Include system message in the retrieved conversation turns if exists", "instillAcceptFormats": ["boolean"], "instillUIOrder": 2, "instillUpstreamTypes": ["value", "reference"], "title": "Include System Message If Exists", "type": "boolean"}, "latest_k": {"default": 5, "description": "The number of latest conversation turns to retrieve. A conversation turn typically includes one participant speaking or sending a message, and the other participant(s) responding to it.", "instillAcceptFormats": ["integer"], "instillUIOrder": 1, "instillUpstreamTypes": ["value", "reference"], "minimum": 1, "title": "Latest K", "type": "integer"}, "session_id": {"description": "A unique identifier for the chat session", "instillAcceptFormats": ["string"], "instillUIOrder": 0, "instillUpstreamTypes": ["value", "reference", "template"], "title": "Session ID", "type": "string"}}, "required": ["session_id"], "title": "Input", "type": "object"}, "output": {"instillUIOrder": 0, "properties": {"messages": {"instillFormat": "structured/chat_messages", "items": {"instillFormat": "structured/chat_message", "properties": {"content": {"instillFormat": "structured/multi_modal_content", "items": {"properties": {"image_url": {"properties": {"url": {"description": "Either a URL of the image or the base64 encoded image data.", "type": "string"}}, "required": ["url"], "type": "object"}, "text": {"description": "The text content.", "instillFormat": "string", "type": "string"}, "type": {"description": "The type of the content part.", "enum": ["text", "image_url"], "instillFormat": "string", "type": "string"}}, "required": ["type"], "type": "object"}, "type": "array"}, "metadata": {"additionalProperties": true, "description": "The message metadata", "instillFormat": "semi-structured/object", "instillUIOrder": 2, "required": [], "title": "Metadata", "type": "object"}, "role": {"description": "The message role, i.e. 'system', 'user' or 'assistant'", "instillFormat": "string", "instillUIOrder": 0, "title": "Role", "type": "string"}}, "required": ["role", "content"], "type": "object"}, "title": "Chat Message", "type": "array"}}, "required": ["messages"], "title": "Output", "type": "object"}}, "TASK_CHAT_MESSAGE_WRITE": {"instillShortDescription": "Write chat message into Redis.", "input": {"instillUIOrder": 0, "properties": {"content": {"description": "The message content", "instillAcceptFormats": ["string"], "instillUIMultiline": true, "instillUIOrder": 2, "instillUpstreamTypes": ["value", "reference", "template"], "title": "Content", "type": "string"}, "metadata": {"additionalProperties": true, "description": "The message metadata", "instillUIOrder": 3, "required": [], "title": "Metadata", "type": "object"}, "role": {"description": "The message role, i.e. 'system', 'user' or 'assistant'", "instillAcceptFormats": ["string"], "instillUIOrder": 1, "instillUpstreamTypes": ["value", "reference", "template"], "title": "Role", "type": "string"}, "session_id": {"description": "A unique identifier for the chat session", "instillAcceptFormats": ["string"], "instillUIOrder": 0, "instillUpstreamTypes": ["value", "reference", "template"], "title": "Session ID", "type": "string"}}, "required": ["session_id", "role", "content"], "title": "Input", "type": "object"}, "output": {"instillUIOrder": 0, "properties": {"status": {"description": "The status of the write operation", "instillFormat": "boolean", "instillUIOrder": 0, "title": "Status", "type": "boolean"}}, "required": ["status"], "title": "Output", "type": "object"}}, "TASK_CHAT_MESSAGE_WRITE_MULTI_MODAL": {"instillShortDescription": "Write multi-modal chat message into Redis.", "input": {"instillUIOrder": 0, "properties": {"content": {"instillFormat": "structured/multi_modal_content", "items": {"properties": {"image_url": {"properties": {"url": {"description": "Either a URL of the image or the base64 encoded image data.", "type": "string"}}, "required": ["url"], "type": "object"}, "text": {"description": "The text content.", "instillFormat": "string", "type": "string"}, "type": {"description": "The type of the content part.", "enum": ["text", "image_url"], "instillFormat": "string", "type": "string"}}, "required": ["type"], "type": "object"}, "type": "array"}, "metadata": {"additionalProperties": true, "description": "The message metadata", "instillUIOrder": 3, "required": [], "title": "Metadata", "type": "object"}, "role": {"description": "The message role, i.e. 'system', 'user' or 'assistant'", "instillAcceptFormats": ["string"], "instillUIOrder": 1, "instillUpstreamTypes": ["value", "reference", "template"], "title": "Role", "type": "string"}, "session_id": {"description": "A unique identifier for the chat session", "instillAcceptFormats": ["string"], "instillUIOrder": 0, "instillUpstreamTypes": ["value", "reference", "template"], "title": "Session ID", "type": "string"}}, "required": ["session_id", "role", "content"], "title": "Input", "type": "object"}, "output": {"instillUIOrder": 0, "properties": {"status": {"description": "The status of the write operation", "instillFormat": "boolean", "instillUIOrder": 0, "title": "Status", "type": "boolean"}}, "required": ["status"], "title": "Output", "type": "object"}}}